{% extends 'base.html.twig' %}

{% block title %}Editer {{recette.name}}{% endblock %}

{% block body %}
    <h1>Editer la recette</h1>

    <div class="my-5">
        {{ include('recette/_form.html.twig', {'button_label': 'Mettre à jour la recette'}) }}
        {{ include('source/_form.html.twig', {'button_label': 'Ajouter une source'}) }}
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Ingrédient</th>
                <th>Quantité</th>
                <th>Unité</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for ingredient_per_recette in ingredient_per_recettes %}
        {% if ingredient_per_recette.recette == recette %}
            <tr>
                <td>{{ ingredient_per_recette.ingrediient }}</td>
                <td>{{ ingredient_per_recette.qty }}</td>
                <td>{{ ingredient_per_recette.unite }}</td>
                <td>
                    <a href="{{ path('app_ingredient_per_recette_edit', {'id': ingredient_per_recette.id}) }}">edit</a>
                    <a>{{ include('ingredient_per_recette/_delete_form.html.twig') }}</a>
                </td>
            </tr>
            {% endif %}
        {% else %}
            <tr>
                <td colspan="4">no records found</td>
            </tr>
            
        {% endfor %}
        </tbody>
    </table>

    <div class="row">
        <div class="col-lg-6">{{ include('ingredient_per_recette/_form.html.twig',{'button_label': 'Ajouter un ingrédient dans la recette'} ) }}</div>
        <div class="col-lg-6">{{ include('ingredient/_form.html.twig', {'button_label': 'Ajouter un ingrédient'}) }}</div>
    </div>
    

    

    <a href="{{ path('recettes') }}">back to list</a>

    {{ include('recette/_delete_form.html.twig') }}
{% endblock %}
